# AI 视频分镜脚本分析工具 — 界面设计

## 1. 整体页面布局

```text
+-----------------------------------------------------------------------------------+
|  AI 视频分镜脚本分析工具                                          [API Key 设置]   |
+-------------------+---------------------------------------------------------------+
|                   |  分析结果   [@ 原始内容] [# 分镜表格]          [导出 Excel]     |
|   左侧面板        +---------------------------------------------------------------+
|                   |                                                               |
| +-视频上传/预览--+ |                                                               |
| |                | |                     右侧主区域                                |
| | +------------+ | |                                                               |
| | |            | | |   F3: 分镜脚本表格 / Markdown 原始内容                         |
| | | 视频预览    | | |                                                               |
| | | 或拖拽上传  | | |   (根据模式切换标签展示不同内容)                                  |
| | |            | | |                                                               |
| | +------------+ | |                                                               |
| | 文件名  01:30  | |                                                               |
| | [进度 ██░ 60%] | |                                                               |
| +----------------+ |                                                               |
|                   |                                                               |
| +-分析控制-------+ |                                                               |
| | [开始分析]     | |                                                               |
| | 状态: 分析中.. | |                                                               |
| | Token: 入/出   | |                                                               |
| +----------------+ |                                                               |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
```

## 2. 初始状态（未上传视频）

```text
+-----------------------------------------------------------------------------------+
|  AI 视频分镜脚本分析工具                                          [API Key 设置]   |
+-------------------+---------------------------------------------------------------+
|                   |  分析结果                                                     |
|                   +---------------------------------------------------------------+
|                   |                                                               |
| +----------------+|                                                               |
| |                ||                                                               |
| |  +----------+  ||                                                               |
| |  |  (icon)  |  ||                  请先上传视频文件                               |
| |  | 拖拽视频 |  ||                                                               |
| |  | 到此处或 |  ||                  支持 mp4、mov 格式                             |
| |  | 点击上传 |  ||                  大小 ≤100MB / 时长 ≤10 分钟                    |
| |  +----------+  ||                                                               |
| |                ||                                                               |
| | mp4,mov ≤100MB ||                                                               |
| +----------------+|                                                               |
|                   |                                                               |
| +----------------+|                                                               |
| |[开始分析](禁用)||                                                               |
| +----------------+|                                                               |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
```

## 3. 视频已上传，分析中

```text
+-----------------------------------------------------------------------------------+
|  AI 视频分镜脚本分析工具                                          [API Key 设置]   |
+-------------------+---------------------------------------------------------------+
|                   |  分析结果                                                     |
|                   +---------------------------------------------------------------+
|                   |                                                               |
| +----------------+|                                                               |
| | +------------+ ||           AI 分析中，请稍候...                                 |
| | | ▶ 视频预览 | ||                                                               |
| | |            | ||           | 序号 | 景别 | 运镜 | 画面内容   | ...              |
| | | demo.mp4   | ||           |------|------|------|-----------|---               |
| | +------------+ ||           | 1    | 特写 | 前推 | 晨光透过.. | ...              |
| | demo.mp4 01:30 ||           | 2    | ...  |      | (流式填充中)                  |
| +----------------+|                                                               |
|                   |                                                               |
| +----------------+|                                                               |
| | 分析中 ██████░ ||                                                               |
| | Token:入1.2k   ||                                                               |
| |       出2.0k   ||                                                               |
| +----------------+|                                                               |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
```

## 4. 分析完成 — 分镜表格模式

```text
+-----------------------------------------------------------------------------------+
|  AI 视频分镜脚本分析工具                                          [API Key 设置]   |
+-------------------+---------------------------------------------------------------+
|                   |  分析结果   @ 原始内容  [# 分镜表格]           [导出 Excel]     |
|                   +---------------------------------------------------------------+
| +----------------+| +-----------------------------------------------------------+ |
| | +------------+ || | 序号| 景别| 运镜 | 画面内容   | 拍摄指导  |...| 视频预览  | |
| | | ▶ 视频预览 | || |-----|-----|------|-----------|----------|---|----------| |
| | |            | || |  1  | 特写| 缓慢 | 晨光透过纱 | 利用侧逆  |...| +------+ | |
| | | demo.mp4   | || |     |     | 前推 | 帘照射花瓶 | 光方向..  |   | |▶ 播放| | |
| | +------------+ || |     |     |      |           |          |   | |00:00- | | |
| | demo.mp4 01:30 || |     |     |      |           |          |   | | 00:03 | | |
| +----------------+| |     |     |      |           |          |   | +------+ | |
|                   || |-----|-----|------|-----------|----------|---|----------| |
| +----------------+|| |  2  | 全景| 固定 | 博主穿家居 | 三脚架固  |...| +------+ | |
| | Token统计      || |     |     | 镜头 | 服走出伸腰 | 定机位..  |   | |▶ 播放| | |
| | 输入: 1,234    || |     |     |      |           |          |   | |00:03- | | |
| | 输出: 3,456    || |     |     |      |           |          |   | | 00:06 | | |
| +----------------+| |     |     |      |           |          |   | +------+ | |
|                   || |-----|-----|------|-----------|----------|---|----------| |
|                   || |  3  | 近景| 跟随 | 手部特写手 | 双手持机  |...| +------+ | |
|                   || |     |     | 摇摄 | 冲咖啡    | 手肘抵桌..|   | |▶ 播放| | |
|                   || |     |     |      |           |          |   | |00:06- | | |
|                   || |     |     |      |           |          |   | | 00:10 | | |
|                   || |     |     |      |           |          |   | +------+ | |
|                   || +-----------------------------------------------------------+ |
+-------------------+---------------------------------------------------------------+
```

## 5. 分析完成 — Markdown 原始内容模式

```text
+-----------------------------------------------------------------------------------+
|  AI 视频分镜脚本分析工具                                          [API Key 设置]   |
+-------------------+---------------------------------------------------------------+
|                   |  分析结果   [@ 原始内容]  # 分镜表格           [导出 Excel]     |
|                   +---------------------------------------------------------------+
| +----------------+| +-----------------------------------------------------------+ |
| | +------------+ || |                                                           | |
| | | ▶ 视频预览 | || |  | 序号 | 景别 | 运镜     | 画面内容      | 拍摄指导 ...  | |
| | |            | || |  |------|------|----------|--------------|----------...  | |
| | | demo.mp4   | || |  | 1    | 特写 | 缓慢前推 | 晨光透过纱帘  | 利用侧逆光   | |
| | +------------+ || |  |      |      |          | 照射在木质桌  | 方向，降低    | |
| | demo.mp4 01:30 || |  |      |      |          | 面的花瓶上   | 手机曝光...   | |
| +----------------+| |  | 2    | 全景 | 固定镜头 | 博主穿着家居  | 使用三脚架    | |
|                   || |  |      |      |          | 服从卧室走出  | 固定机位...   | |
| +----------------+| |  | 3    | 近景 | 跟随摇摄 | 手部特写正在  | 双手持机      | |
| | Token统计      || |  |      |      |          | 手冲咖啡     | 手肘抵桌...   | |
| | 输入: 1,234    || |                                                           | |
| | 输出: 3,456    || +-----------------------------------------------------------+ |
| +----------------+|                                                               |
|                   |                                                               |
+-------------------+---------------------------------------------------------------+
```

## 6. 分镜表格完整列定义

```text
+------+------+------+----------+----------+--------+--------+--------+------+------+------+----------+
| 序号 | 景别 | 运镜 | 画面内容 | 拍摄指导 |画面文案| 口播/  | 音效/  | 开始 | 结束 | 时长 | 视频预览 |
|      |      |      |          |          |/花字   | 台词   | BGM    | 时间 | 时间 |      |          |
+------+------+------+----------+----------+--------+--------+--------+------+------+------+----------+
|  1   | 特写 | 缓慢 | 晨光透过 | 利用侧逆 | 封面   |   -    | 轻快吉 |00:00 |00:03 |00:03 | +------+ |
|      |      | 前推 | 纱帘照射 | 光方向.. | 标题:  |        | 他曲+  |      |      |      | |▶ 播放| |
|      |      |      | 花瓶    |          | 《独居》|        | 鸟鸣   |      |      |      | +------+ |
+------+------+------+----------+----------+--------+--------+--------+------+------+------+----------+
|  2   | 全景 | 固定 | 博主穿家 | 三脚架固 | 花字:  | 大家都 | 脚步声 |00:03 |00:06 |00:03 | +------+ |
|      |      | 镜头 | 居服走出 | 定机位.. | 又是元 | 问我怎 |        |      |      |      | |▶ 播放| |
|      |      |      | 伸懒腰  |          | 气满满 | 么保持 |        |      |      |      | +------+ |
+------+------+------+----------+----------+--------+--------+--------+------+------+------+----------+
```

## 7. API Key 设置弹窗

```text
+-------------------------------------------+
|  API Key 设置                         [X] |
+-------------------------------------------+
|                                           |
|  阿里云百炼 API Key                       |
|  +-------------------------------------+  |
|  | sk-xxxxxxxxxxxxxxxxxxxx             |  |
|  +-------------------------------------+  |
|                                           |
|  * Key 仅保存在浏览器本地，不会上传服务器  |
|                                           |
|                    [取消]    [保存]        |
+-------------------------------------------+
```

## 8. 组件与功能对照

```text
+------------------+----------------------------------------------+
| 功能编号          | 界面区域                                      |
+------------------+----------------------------------------------+
| F1 视频上传       | 左侧面板 - 上方（拖拽区 + 播放器）              |
| F2 AI 视频分析    | 左侧面板 - 下方（开始分析按钮 + 状态 + Token） |
| F3 分析结果展示   | 右侧主区域（上方标签切换 + 下方内容区）          |
|   - 原始内容模式  |   右侧内容区 → Markdown 渲染                   |
|   - 分镜表格模式  |   右侧内容区 → 结构化表格 + 行内视频播放器      |
| F4 导出功能       | 右侧主区域上方工具栏（导出 Excel 按钮）         |
| F5 API Key 配置   | 顶部栏右侧按钮 → 弹窗                          |
+------------------+----------------------------------------------+
```

## 9. 交互状态流转

```text
                    +-------------+
                    |  初始状态    |
                    | (未上传视频) |
                    +------+------+
                           |
                    用户拖拽/选择视频
                           |
                    +------v------+
                    |   上传中    |
                    | (显示进度条) |
                    +------+------+
                           |
                      上传完成
                           |
                    +------v------+
                    |   待分析    |
                    | (预览视频)  |
                    +------+------+
                           |
                    点击 [开始分析]
                           |
                    +------v------+
                    |   分析中    |
                    | (流式输出)  |
                    +------+------+
                           |
                      分析完成
                           |
              +------------v------------+
              |                         |
       +------v------+          +------v------+
       | Markdown 模式|  <切换>  | 分镜表格模式 |
       | (原始内容)   |          | (结构化表格) |
       +------+------+          +------+------+
              |                         |
              +------------+------------+
                           |
                    [导出 Excel]
```
